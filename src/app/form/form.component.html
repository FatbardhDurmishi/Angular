<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div class="form-header">
    <h2>Register Here</h2>
  </div>
  <div class="form-inputs">
    <div class="form-input">
      <label for="Username">Username</label>
      <input type="text" formControlName="userName" />
      <span
        class="errors"
        *ngIf="
          registerForm.controls['userName'].invalid &&
          registerForm.controls['userName'].touched
        "
        >Username is required</span
      >
      <span
        class="errors"
        *ngIf="
          registerForm.hasError('userNameNotAvailable') &&
          registerForm.controls['userName'].touched
        "
        >Username not available</span
      >
    </div>
    <div class="form-input">
      <label for="email">Email</label>
      <input type="email" formControlName="email" />
      <span
        class="errors"
        *ngIf="
          registerForm.controls['email'].invalid &&
          registerForm.controls['email'].touched
        "
        >Email is required</span
      >
      <span
        class="errors"
        *ngIf="
          registerForm.controls['email'].hasError('email') &&
          registerForm.controls['email'].touched
        "
        >Email is not valid</span
      >
      <span
        class="errors"
        *ngIf="
          registerForm.hasError('userWithEmailExists') &&
          registerForm.controls['email'].touched
        "
        >User with this email already exists!</span
      >
    </div>
    <div class="form-input">
      <label for="password">Password</label>
      <input type="password" formControlName="password" />
      <span
        class="errors"
        *ngIf="
          registerForm.controls['password'].invalid &&
          registerForm.controls['password'].touched &&
          !registerForm.controls['password'].hasError('minlength')
        "
        >Password is required</span
      >
      <span
        class="errors"
        *ngIf="
          registerForm.controls['password'].hasError('minlength') &&
          registerForm.controls['password'].touched
        "
        >Password should be at least 8 characters</span
      >
    </div>
    <div class="form-input">
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" required formControlName="confirmPassword" />
      <span
        class="errors"
        *ngIf="
          registerForm.controls['confirmPassword'].invalid &&
          registerForm.controls['confirmPassword'].touched
        "
        >Confirm Password is required</span
      >
      <span
        *ngIf="
          registerForm.hasError('passwordsNotMatching') &&
          registerForm.controls['confirmPassword'].touched
        "
        class="errors"
        >Passwords not matching</span
      >
    </div>
    <div class="form-input">
      <label>Credit Card</label>
      <input type="text" formControlName="creditCard" />
      <span
        class="errors"
        *ngIf="
          registerForm.controls['creditCard'].invalid &&
          registerForm.controls['creditCard'].touched &&
          !(
            registerForm.controls['creditCard'].hasError('minlength') ||
            registerForm.controls['creditCard'].hasError('maxlength')
          )
        "
        >Credit Card is required</span
      >
      <span class="errors">
        <span
          *ngIf="
            registerForm.controls['creditCard'].hasError('minlength') ||
            registerForm.controls['creditCard'].hasError('maxlength')
          "
          >Credit Card is not valid</span
        >
        <span
          *ngIf="
            registerForm.hasError('creditCardNotNumber') &&
            registerForm.controls['creditCard'].touched
          "
          >Credit Card must contain only numbers</span
        >
      </span>
    </div>
    <div class="form-input">
      <label>Gender</label>
      <select formControlName="gender">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      <span class="errors">
        <span
          *ngIf="
            registerForm.controls['gender'].invalid &&
            registerForm.controls['gender'].touched
          "
          >Gender is required</span
        >
      </span>
    </div>
    <div class="form-input">
      <label>Role</label>
      <select formControlName="role">
        <option value="Admin">Admin</option>
        <option value="User">User</option>
      </select>
      <span class="errors">
        <span
          *ngIf="
            registerForm.controls['role'].invalid &&
            registerForm.controls['role'].touched
          "
          >Gender is required</span
        >
      </span>
    </div>
    <div
      class="form-input"
      *ngIf="this.registerForm.controls['role'].value === 'User'"
    >
      <label for="address">Job Position</label>
      <div class="radio-buttons">
        <label>
          <input
            type="radio"
            formControlName="jobPosition"
            name="jobPosition"
            value="Frontend"
          />Frontend
        </label>
        <label>
          <input
            type="radio"
            formControlName="jobPosition"
            name="jobPosition"
            value="Backend"
          />Backend
        </label>
        <label>
          <input
            type="radio"
            formControlName="jobPosition"
            name="jobPosition"
            value="Fullstack"
          />Fullstack
        </label>
      </div>
      <span
        class="errors"
        *ngIf="
          registerForm.controls['jobPosition'].invalid &&
          registerForm.controls['jobPosition'].touched
        "
        >Job Position is required</span
      >
    </div>
    <button class="btn-submit" type="submit">Submit</button>
  </div>
  <div class="form-footer">
    Already have an account?
    <a routerLink="/login" class="login">Login here.</a>
  </div>
</form>
